// // SLIDER
function mainSlider1Init() {
    var interleaveOffset = 0.5;
    var swiperOptions = {
        loop: true,
        speed: 1000,
        parallax: true,
        // autoplay: {
        //     delay: 3500,
        //     disableOnInteraction: false,
        // },
        autoplay: false,
        grabCursor: false,
        pagination: {
            el: ".swiper-pagination",
            clickable: true,
            // type: "fraction",
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-next",
        },
        // on: {
        //     progress: function () {
        //         var swiper = this;
        //         for (var i = 0; i < swiper.slides.length; i++) {
        //             var slideProgress = swiper.slides[i].progress;
        //             var innerOffset = swiper.width * interleaveOffset;
        //             var innerTranslate = slideProgress * innerOffset;
        //             swiper.slides[i].querySelector('.slide-inner').style.transform = 'translate3d(' + innerTranslate + 'px, 0, 0)';
        //         }
        //     },
        //     touchStart: function () {
        //         var swiper = this;
        //         for (var i = 0; i < swiper.slides.length; i++) {
        //             swiper.slides[i].style.transition = '';
        //         }
        //     },
        //     setTransition: function (speed) {
        //         var swiper = this;
        //         for (var i = 0; i < swiper.slides.length; i++) {
        //             swiper.slides[i].style.transition = speed + 'ms';
        //             swiper.slides[i].querySelector('.slide-inner').style.transition = speed + 'ms';
        //         }
        //     }
        // }
    };

    var homeSlider = new Swiper(".homeSlider", swiperOptions);

    var pageSection = $(".bg-image");
    pageSection.each(function (indx) {
        if ($(this).attr("data-background")) {
            $(this).css(
                "background-image",
                "url(" + $(this).data("background") + ")"
            );
        }
    });
}

mainSlider1Init();

//gsap loader
const tl = gsap.timeline({duration: 2.5});

function preLoader(tl) {
    tl
        .to(".preLoader.black > img", {
            delay: 1,
            y: 50,
            autoAlpha: 0,
        })
        .to(".preLoader.black", {
            yPercent: -100,
        })
        .to(".preLoader.white", {
            yPercent: -100,
        })
        .to(".preLoader", {
            css: {
                display: "none",
            },
        })
        .from(".navbar-brand > img", {
            x: -50,
            autoAlpha: 0,
        })
        .from(".navbar-nav > li, .form-inline a", {
            autoAlpha: 0,
            x: 100,
            stagger: 0.05,
        }, ">-0.5")

        .from(".slideOne", {
            autoAlpha: 0,
            yPercent: 100,
            stagger: 0.05,
        });
}

// function initialization
// $(window).on('load', function () {
//     let str = window.location.href;
//     str = str.split('/');
//     if (str.at(-1) === 'index.php' || str.at(-1) === '') {
//         preLoader(tl);
//     } else {
//     }
// });

const heading = document.querySelectorAll(".secHeading");

heading.forEach((text) => {
    const headingTl = gsap.timeline({
        scrollTrigger: {
            // scroller: '[data-scroll-container]',
            trigger: text,
            toggleActions: "play none none reset",
        },
    });
    headingTl.from(text, 1, {
        y: 120,
        autoAlpha: 0,
        ease: "power4.out",
    });
});

AOS.init({
    duration: 1200,
});

// Script for travelSlider
$(".travelSegment").slick({
    autoplay: true,
    autoplaySpeed: 5000,
    dots: true,
    arrows: false,
    infinite: true,
    centerMode: true,
    centerPadding: 0,
    slidesToShow: 1.675,
    slidesToScroll: 1,
    prevArrow:
        '<button type="button" class="slick-prev"><i class="fas fa-chevron-left"></i></button>',
    nextArrow:
        '<button type="button" class="slick-next"><i class="fas fa-chevron-right"></i></button>',
    responsive: [
        {
            breakpoint: 1199,
            settings: {
                slidesToShow: 3,
            },
        },
        {
            breakpoint: 768,
            settings: {
                slidesToShow: 2,
                arrows: false,
            },
        },
        {
            breakpoint: 575,
            settings: {
                slidesToShow: 1,
                arrows: false,
            },
        },
    ],
});

var swiper = new Swiper(".mySwiper1", {
    spaceBetween: 0,
    slidesPerView: 3,
    freeMode: true,
    watchSlidesProgress: true,
    navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-next",
    },
});
var swiper2 = new Swiper(".mySwiper2", {
    spaceBetween: 0,
    navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
    },
    thumbs: {
        swiper: swiper,
    },

});
